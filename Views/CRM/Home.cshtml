@model IEnumerable<Meida>

@{
    ViewData["Title"] = "Home";
}
<br>
<br>
<div class="text-center">
    <h1 class="display-4">Add images for your site</h1>
    <a  role="button" class="btn btn-outline-primary mx-auto"  asp-controller="CRM" asp-action="Upload">Add new image
            <span class="visually-hidden">(current)</span>
          </a>
</div>
<br>
<br>
<h1>Media Index</h1>
<table class="table table-striped  table-hover">
    <thead class="thead-dark">
        <tr> 
            <th   scope="col"> Id</th>
            <th   scope="col" >File Name</th>
            <th   scope="col" >File Type</th>
            <th   scope="col" >File Content</th>
            <th   scope="col" >Product Name</th>
            <th   scope="col">This product for</th>
            <th   scope="col" >Product Description</th>
            <th   scope="col" >Product Price <span>&dollar;</span></th>
            <th   scope="col">Created Time</th>
            <th   scope="col" ></th>
            <th   scope="col" ></th>
           
        </tr>   
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr class="table-active" style="justify-content: center; align-itmes: center;">
                <th scope="row">
                    @item.Id
                </th>
                <td>
                    @item.Filename
                </td>
                <td>
                    @item.FileType
                </td>
                <td style=" width: 190px">
                    @{
                          string imageBase64 = Convert.ToBase64String(item.FileData);
                          string imageSrc = $"data:{item.FileType};base64,{imageBase64}";
                      }
                    <img width="80" height="70" src="@imageSrc" alt="product img">
                </td>
                <td style="widht: 180px ;">
                    @item.ProductName
                </td>
                <td style="widht: 140px ;">
                    @item.Gender
                </td>
                <td style="min-width: 200px;">
                    @item.ProductDesc
                </td>
                <td style="widht: 100px ;">
                    @item.Price
                </td>
                <td style="widht: 100px ;">
                    @item.CreatedDate
                </td>
                
            
                <td>
                    <a class="btn btn-outline-warning" asp-controller="CRM" asp-action="Update" asp-route-id="@item.Id">Update</a>
                </td>
                <td>
                    <a asp-action="Delete" asp-controller="CRM" asp-route-id="@item.Id" class="btn btn-outline-danger">Delete</a>
                </td>
            </tr>
        }
    </tbody>
</table>
